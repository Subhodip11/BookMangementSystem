<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Published Book Manager</title>
    <script src="https://kit.fontawesome.com/cccf8ae8e0.js" crossorigin="anonymous"></script>
</head>
<style>
    * {
        padding: 0;
        margin: 0;
        box-sizing: border-box;
    }
    
    .container {
        width: 100vw;
        height: fit-content;
        display: flex;
        flex-direction: column;
    }
    
    .entryBookForm {
        width: auto;
        height: auto;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        margin: 2rem auto;
        padding: 1rem 3rem;
        /* border: 1px solid black; */
        background-color: rgba(167, 167, 13, 0.8);
    }
    
    .bookname,
    .bookprice,
    .bookGenre,
    .username,
    .issuedate {
        font-size: 16px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        width: 100%;
        /* border: 1px solid black; */
        margin: 0.5rem 0;
        padding: 0.5rem;
        background-color: #9b7600;
        transition: 0.2s ease-in-out;
    }
    
    .bookname input,
    .bookprice input,
    .bookGenre input,
    .username input,
    .issuedate input {
        padding: 0.5rem;
        outline: none;
        width: 70%;
        margin: 0 1rem;
        background-color: #ffe180;
        border: none;
    }
    
    .bookname:hover,
    .bookprice:hover,
    .bookGenre:hover,
    .username:hover,
    .issuedate:hover {
        transform: scale(1.02, 1.02);
        box-shadow: 5px 7px 6px rgb(63, 63, 63);
    }
    
    .addBookBtn {
        font-size: 16px;
        padding: 0.6rem 0.8rem;
        background-color: rgb(46, 46, 255);
        color: white;
        outline: none;
        border: none;
        border-radius: 0.4rem;
        cursor: pointer;
        transition: 0.2s ease-in-out;
    }
    
    .addBookBtn:hover {
        transform: scale(1.1, 1.1);
    }
    
    .addBookBtn:active {
        background-color: rgba(46, 46, 255, 0.8);
    }
    
    .tableContainer {
        height: 500px;
        /* border: 3px solid red; */
        margin: 1rem;
        overflow-y: auto;
        overflow-x: hidden;
    }
    
    .tableContainer table {
        color: white;
        border-collapse: collapse;
        /* overflow-x: hidden; */
    }
    
    #body_data {
        /* overflow-y: auto; */
        /* border: 5px solid red; */
    }
    
    .tableContainer table th,
    .tableContainer table tr td {
        padding: 0.5rem;
        font-size: 16px;
        text-align: center;
        /* border-top: 1px solid #091f17; */
        border-bottom: 1px solid #091f17;
    }
    
    .tableContainer table tr td {
        border: 1px solid black;
        /* max-width: 8rem; */
        /* width: 16.6666667%; */
        /* height: 8%;
        overflow-x: auto;  */
    }
    
    .tableContainer table tr {
        transition: 0.2s ease-in;
    }
    
    .tableContainer table thead th {
        background-color: rgb(86, 73, 165);
    }
    
    .tableContainer table tbody tr:nth-child(2n+1) {
        background-color: #2f9c77;
    }
    
    .tableContainer table tbody tr:nth-child(2n) {
        background-color: darkseagreen;
    }
    
    .tableContainer table tbody tr:hover {
        background-color: black;
        color: whitesmoke;
        box-shadow: 5px 5px 10px gray;
        transform: scale( 1.02, 1.1);
        border: 2px solid white;
    }
    
    .fa-trash-alt {
        cursor: pointer;
        color: rgb(211, 5, 5);
    }
    
    .fa-trash-alt:hover {
        transform: scale(1.2, 1.2);
        color: white;
    }
    
    .deleteBtn {
        outline: none;
        border: none;
        background: transparent;
    }
    
    .backgroundImage {
        background: url('images/henry-be-lc7xcWebECc-unsplash.jpg');
        background-size: cover;
        position: absolute;
        top: 0;
        left: 0;
        z-index: -1;
        background-position: center center;
        height: 100%;
        width: 100vw;
        opacity: 0.9;
    }
    
    .bodyContainer {
        width: 100vw;
        height: auto;
        display: flex;
        justify-content: space-around;
        align-items: center;
    }
    
    .heading {
        color: white;
        font-size: 2rem;
        text-align: center;
        background-color: rgba(15, 15, 15, 0.8);
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem;
    }
    
    .heading button {
        padding: 0.6rem 1.6rem;
        background: transparent;
        color: white;
        word-spacing: 4px;
        border: 1px solid white;
        outline: none;
        cursor: pointer;
        transition: 0.3s ease-in-out;
    }
    
    .heading button a {
        color: white;
        text-decoration: none;
    }
    
    .heading button:hover {
        color: black;
        background-color: white;
        border: 1px solid black;
    }
    
    .heading button a:hover {
        color: black;
    }
    
    @media screen and (max-width:800px) {
        .bodyContainer {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .heading {
            font-size: 16px;
        }
        .backgroundImage {
            background-attachment: scroll;
        }
        .entryBookForm {
            width: 90%;
            justify-content: space-between;
            padding: 0;
        }
        .bookname input,
        .bookprice input,
        .bbokGenre input,
        .username input,
        .issuedate input {
            width: 70%;
            padding: 0.2rem;
            margin: 0.1rem;
        }
        .bookname,
        .bookprice,
        .username,
        .issuedate {
            font-size: 14px;
        }
        .tableContainer {
            width: 100%;
            margin: 0 0.5rem;
            overflow: scroll;
            height: 100%;
            max-height: 100%;
            min-height: 80%;
        }
        .tableContainer table {
            font-size: 14px;
        }
        .heading button {
            padding: 0.3rem 1rem;
        }
    }
    
     ::-webkit-scrollbar {
        width: 7px;
    }
    /* Track */
    
     ::-webkit-scrollbar-track {
        background: #f1f1f1;
    }
    /* Handle */
    
     ::-webkit-scrollbar-thumb {
        border-radius: 0.4rem;
        background: rgba(82, 81, 81, 0.7);
    }
    /* Handle on hover */
    
     ::-webkit-scrollbar-thumb:hover {
        background: #555;
    }
</style>

<body>
    <div class="container">
        <img class="backgroundImage" src="images/henry-be-lc7xcWebECc-unsplash.jpg" alt="">
        <div class="heading">
            <button>Home</button>
            <p>Publish Your Book Here</p>
            <button><a href="/register_or_login">Login/Signup</a></button>
        </div>
        <div class="bodyContainer">
            <form action="/bookAdded" class="entryBookForm" method="post" enctype="application/x-www-form-urlencoded">
                <div class="username">
                    <label for="username">Enter Author Name</label>
                    <input id="username" name="authorname" type="text" placeholder="Enter user name" />
                </div>
                <div class="bookname">
                    <label for="bookname">Enter Book Name</label>
                    <input id="bookname" name="bookname" type="text" placeholder="Enter book name" />
                </div>
                <div class="bookGenre">
                    <label for="bookprice">Genre of Book</label>
                    <input id="bookgenre" name="bookgenre" type="text" placeholder="Enter genre of book" />
                </div>
                <div class="bookprice">
                    <label for="bookprice">Price of Book</label>
                    <input id="bookprice" name="bookprice" type="text" placeholder="Enter price of book" />
                </div>
                <div class="issuedate">
                    <label for="issuedate">Book Publish Date</label>
                    <input id="issuedate" name="issuedate" type="text" placeholder="Enter book issue date" />
                </div>
                <button type="submit" class="addBookBtn">Add book</button>
            </form>
            <div class="tableContainer">

                <table>
                    <thead>
                        <th>Sl. no.</th>
                        <th>Name of Author</th>
                        <th>Name of book</th>
                        <th>Genre of book</th>
                        <th>Price of book</th>
                        <th>Publish date</th>
                        <th>Drop Book</th>
                    </thead>
                    <tbody id="body_data">
                        <% data.forEach(ele=>{ %>

                            <tr>
                                <td>
                                    1
                                </td>
                                <td>
                                    <%= ele.authorName -%>
                                </td>
                                <td>
                                    <%= ele.bookName -%>
                                </td>
                                <td>
                                    <%= ele.bookGenre -%>
                                </td>
                                <td>
                                    <%= ele.bookPrice -%>
                                </td>
                                <td>
                                    <%= ele.publishDate -%>
                                </td>
                                <td>
                                    <form action="/deleteBook/:<%= ele.id -%>" method="post" enctype="application/x-www-form-urlencoded"><button type="submit" class="deleteBtn"><i class="fas fa-trash-alt"></i></button></form>
                                </td>
                            </tr>
                            <%  }) %>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</body>
<script>
    let cnt = 1
    let tableData = document.getElementsByTagName('td');
    for (let i = 0; i < tableData.length; i += 7) {
        tableData[i].innerText = cnt;
        cnt++;
    }
</script>

</html>